# Задача «Телефонная книга Аркадия»

Перед выполнением задания внимательно прочитайте:

- [О всех этапах проверки задания](https://github.com/urfu-2018/guides/blob/master/workflow/overall.md)
- [Как отправить пулл](https://github.com/urfu-2018/guides/blob/master/workflow/pull.md)
- [Как пройти тесты](https://github.com/urfu-2018/guides/blob/master/workflow/test.md)
- Правила оформления [javascript](https://github.com/urfu-2018/guides/blob/master/codestyle/js.md), [HTML](https://github.com/urfu-2018/guides/blob/master/codestyle/html.md) и [CSS](https://github.com/urfu-2018/guides/blob/master/codestyle/css.md) кода


## Основное задание

> Мы очень хотим, чтобы код вы написали сами, а не пользовались внешними библиотеками.

Аркадий – серьезный человек и в его телефонной книге очень много записей. А после недавнего _престижного_ соревнования по `JavaScript`, записей станет еще больше.
Пользоваться рукописной книгой уже не модно, поэтому Аркадий решил обратиться к вам, как к специалисту по телефонным книгам и `JavaScript`.

Предлагаем вам помочь Аркадию мигрировать на новые технологии и реализовать для скрипта телефонной книги __phone-book.js__ ряд необходимых методов.

Метод __add__ для добавления записей:
* На вход принимает «Телефон», «Имя» и «Электронную почту»
* Возвращает true или false в зависимости от успеха опереации
* Телефоны принимаются **только** в формате 5556667788 (без кода)
* Не добавляет **уже существующую** запись
* Не добавляет запись **без имени**

Метод __update__ для обновления записей:
* На вход принимает «Телефон», «Имя» и «Электронную почту»
* Обновляет «Имя» и «Электронную почту» по заданному «Телефону»
* Возвращает true или false в зависимости от успеха опереации
* «Электронную почту» можно стереть (не передав последний параметр), а «Имя» – нет

Метод __find__ для поиска записей:
* На вход принимает запрос в виде строки
* Ищет вхождение этой строки хотя бы в одно из полей «Телефон», «Имя» и «Электронную почту»
* Возвращает отсортированный по «Имени» массив строк в формате `name, phone, email`
* «Имя» и «Электронную почту» выводит как есть, а «Телефон» в формате `+7 (555) 666-77-88`
* Пустой запрос не должен ничего находить
* Запрос «*» находит все записи

Метод __findAndRemove__ для удаления записей:
* На вход принимает запрос в виде строки
* Находит (смотри __find__) и удаляет все найденные записи
* Возвращает число удаленных записей

В файле [index.js](./index.js) вы можете найти примеры использования получившегося скриптика.

## Дополнительное задание

> Перед выполнением внимательно прочитайте [про особенности](https://github.com/urfu-2018/guides/blob/master/workflow/extra.md)

По одной добавлять записи в книгу не очень удобно, поэтому будет здорово, если вы добавите в решение импорт данных из csv. Для этого реализуйте код метода __importFromCsv__.

На вход метод принимает строку в формате csv. Если запись в телефонной книги уже есть –  обновляет/дополняет её данными из csv строки. На выходе метод возвращает одно число добавленных/обновленных записей.

Пример работы этого метода вы может отыскать в [index.js](./index.js) и в [тестах](./phone-book.spec.js).

## Полезные ссылки

- [Знакомимся с массивами](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array)
- [Пытаемся знакомиться с регулярными выражениями](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/RegExp)
- [Перебираем ключи объектов](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Object/keys)
- [Метод indexOf для строк](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf)
- [Метод slice для строк](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/String/slice)
- [Объект Map](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Map)

![meme](https://user-images.githubusercontent.com/11780431/46891973-35008980-ce85-11e8-8a2d-e916e93c67fc.png)
